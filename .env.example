# ========================================
# Codex IDE - Environment Variables
# ========================================
# 
# This file contains all required environment variables for the Codex IDE.
# Copy this file to .env.local and fill in your actual API keys.
#
# IMPORTANT: Never commit .env.local to version control!
# ========================================

# ========================================
# E2B API Configuration
# ========================================
# E2B Code Interpreter API Key for executing Python code in secure sandboxes
# 
# Where to get: https://e2b.dev/dashboard
# Sign up and generate an API key from your dashboard
#
# Required: YES
# Used by: /api/sandbox/run, /api/agent/fix
E2B_API_KEY=your_e2b_api_key_here

# ========================================
# User API Keys (BYOK - Bring Your Own Key)
# ========================================
# 
# Note: User API keys for OpenAI/Anthropic are NOT stored in environment variables.
# They are stored in the user's browser localStorage for security.
# 
# Users configure their API keys through the Settings dialog (gear icon) in the UI.
# 
# Supported Providers:
# - OpenAI (GPT-4, GPT-3.5)
# - Anthropic (Claude 3.5 Sonnet)
#
# User API keys are passed via the 'x-user-api-key' header in API requests.
# ========================================

# ========================================
# Optional: Development Configuration
# ========================================

# Next.js Environment
# NODE_ENV=development

# API Timeout (milliseconds)
# Default: 60000 (60 seconds) for sandbox execution
# Default: 120000 (120 seconds) for AI agent fixes
# API_TIMEOUT=60000

# Enable Debug Logs
# LOG_LEVEL=debug

# ========================================
# Deployment Checklist
# ========================================
#
# Before deploying to production:
#
# 1. ✓ Set E2B_API_KEY in your hosting platform's environment variables
#    - Vercel: Project Settings > Environment Variables
#    - Netlify: Site Settings > Build & Deploy > Environment
#    - Docker: Use docker-compose.yml or .env file
#
# 2. ✓ Ensure .env.local is in .gitignore (already configured)
#
# 3. ✓ Never expose server-side environment variables to the client
#    - Only use process.env in API routes (server-side)
#    - Never use process.env in components (client-side)
#
# 4. ✓ Validate environment variables on server startup
#    - Check that E2B_API_KEY is set
#    - Log warnings for missing optional variables
#
# 5. ✓ Use secure HTTPS connections in production
#
# 6. ✓ Implement rate limiting for API routes
#
# 7. ✓ Monitor API usage and costs
#    - E2B Dashboard: https://e2b.dev/dashboard
#    - OpenAI Usage: https://platform.openai.com/usage
#    - Anthropic Console: https://console.anthropic.com
#
# ========================================
# Security Best Practices
# ========================================
#
# - Never commit actual API keys to version control
# - Rotate API keys regularly
# - Use different keys for development and production
# - Monitor for unusual activity
# - Implement proper error handling that doesn't leak sensitive info
# - Use environment-specific configurations
#
# ========================================
